<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Google Sign-In Demo</title>
  <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>
  <h2>Google Sign-In Demo</h2>
  <button id="google-signin-btn">Sign in with Google</button>

  <script>
    // Initialize Google Sign-In once the script is loaded
    window.onload = () => {
      google.accounts.id.initialize({
        client_id: '755429138864-fkb57r7p2thout8qupf5g0281d0ef21d.apps.googleusercontent.com',
        callback: handleCredentialResponse
      });

      document.getElementById('google-signin-btn').addEventListener('click', () => {
        // Show the One Tap prompt manually on button click
        google.accounts.id.prompt(notification => {
          if (notification.isNotDisplayed() || notification.isSkippedMoment()) {
            console.log('Prompt was not displayed or was skipped.');
          }
        });
      });
    };

    function handleCredentialResponse(response) {
      console.log('Encoded JWT ID token:', response.credential);

      // You can now send the token to your backend for verification
    }
  </script>
</body>
</html>
